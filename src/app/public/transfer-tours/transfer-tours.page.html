<app-public-header [title]="'Transfers & Tours'" [showBack]="true"></app-public-header>

<ion-content [fullscreen]="true" color="light">
  <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>

  <section class="list-header">
    <p class="eyebrow">Transfers privados e tours</p>
    <h1>Movimentos sem esforço</h1>
    <p class="lead">Escolha o percurso, nós tratamos do conforto e pontualidade.</p>
  </section>

  <div *ngIf="loading" class="skeletons">
    <ion-card *ngFor="let s of [1,2,3,4]">
      <div class="thumb">
        <ion-skeleton-text animated style="width:100%; height:160px"></ion-skeleton-text>
      </div>
      <ion-card-header>
        <ion-skeleton-text animated style="width:70%; height:16px"></ion-skeleton-text>
      </ion-card-header>
      <ion-card-content>
        <ion-skeleton-text animated style="width:90%; height:12px"></ion-skeleton-text>
        <ion-skeleton-text animated style="width:75%; height:12px"></ion-skeleton-text>
      </ion-card-content>
    </ion-card>
  </div>

  <div *ngIf="!loading && error" class="error-block">
    <p>{{ error }}</p>
    <ion-button size="small" fill="outline" (click)="load(true)">Tentar novamente</ion-button>
  </div>

  <ion-grid *ngIf="!loading && !error">
    <ion-row>
      <ion-col size="12" sizeMd="6" *ngFor="let tour of tours; trackBy: trackById">
        <ion-card button="true" (click)="openDetail(tour)">
          <div class="thumb" [style.background-image]="'url(' + hero(tour) + ')'">
            <ion-icon name="images-outline"></ion-icon>
          </div>
          <ion-card-header>
            <ion-card-title>{{ tour.title || tour.name || 'Transfer/Tour' }}</ion-card-title>
            <p class="meta">{{ subtitle(tour) || 'Percurso personalizado' }}</p>
          </ion-card-header>
          <ion-card-content>
            <div [innerHTML]="tour.description || 'Experiência privada com condutor dedicado.'"></div>
            <div class="cta">
              <span>Ver detalhe</span>
              <ion-icon name="airplane-outline"></ion-icon>
            </div>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
